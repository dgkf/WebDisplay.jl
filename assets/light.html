<link rel=icon href="data:;base64,iVBORw0KGgo=">
<title>WebDisplay</title>
<style>html{font-family:monospace;min-height:100%;min-width:100%;line-height:1.4}body{margin:0}body>div{position:relative;padding-left:5rem;margin:1rem 0;min-height:2.5rem}body>div>div:nth-child(1){position:absolute;left:0;top:0.2rem;width:4rem;text-align:right}body>div>div:nth-child(2){position:absolute;left:0;top:1.7rem;width:4rem;text-align:right}pre{padding-top:0.2rem}#-f{position:fixed;bottom:2rem;right:2rem;width:3rem;height:3rem;z-index:1;background-color:transparent;border-radius:50%;color:inherit;font-family:monospace;font-size:1.4rem;border:1px solid;opacity:0.6;transition:opacity 500ms}#-f:hover{opacity:1}
</style><style>html{background-color:#fff;color:#233}code{color:#b2a}#-f{border-color:#233}#-f.active{border-color:transparent;box-shadow:0 0 2px 1px #b2a;color:#b2a}
</style><script>(function(){var e,t,n,r,o;e=0,t=!0,n=function(){return fetch("/hist?from="+(e+1)).then(function(e){return e.json()}).then(function(t){var n,i,c,u,d;for(d=[],i=0,u=t.length;i<u;i++)c=t[i],e+=1,""!==c&&(n=document.createElement("div"),n.innerHTML='<div>[...]</div> <div onclick="wd_del(this, '+e+')">[X]</div>',document.body.appendChild(n),d.push(o(e,n,c,r(n,e))));return d}).then(function(){return setTimeout(n,0)}).catch(function(){return console.error("Disconnected! This session won't reconnect, refresh if you want."),document.querySelector("#-f").outerHTML=""})},r=function(n,r){return function(){if(n.querySelector("div").textContent="["+r+"]",t&&r===e)return document.body.scrollTop=document.body.scrollHeight}},o=function(e,t,n,r){switch(!1){case"text/html"!==n:return fetch("/hist/"+e).then(function(e){return e.text()}).then(function(e){return t.insertAdjacentHTML("beforeend",e)}).then(r);case"text/plain"!==n:return fetch("/hist/"+e).then(function(e){return e.text()}).then(function(e){var n;return n=document.createElement("pre"),n.textContent=e,t.appendChild(n)}).then(r);case"application/pdf"!==n:return r(t.insertAdjacentHTML("beforeend",'<embed src="/hist/'+e+'" width="800" height="600" type="application/pdf">'));case!n.startsWith("image/"):return r(t.insertAdjacentHTML("beforeend",'<img src="/hist/'+e+'" />'));default:return r(t.insertAdjacentText("beforeend","cannot render "+n+" msg #"+e))}},window.wd_tf=function(){var e;return t=!t,e=document.querySelector("#-f"),e.setAttribute("title","follow mode: "+(t?"on":"off")),t?e.classList.add("active"):e.classList.remove("active")},window.wd_del=function(e,t){return e.parentElement.outerHTML="",fetch("/hist/"+t,{method:"DELETE"}).then(function(e){return e.ok||Promise.reject(e)}).catch(function(e){return alert("deletion failed #"+t)})},n()}).call(this);</script><button id=-f class=active title="follow mode: on" onclick=wd_tf()>-f
</button>